<!doctype html>
<html lang="es-MX">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Marshanta</title>
    <link rel="manifest" href="/manifest.webmanifest" />
    <meta name="theme-color" content="#0ea5e9" />
    <link rel="stylesheet" href="/styles.css" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
      crossorigin=""
    />
  </head>
  <body>
    <header>Marshanta — Introducción PWA (Sprint 1)</header>
    <main>
      <section class="card">
        <h3>Instalar</h3>
        <p class="muted">Agrega a la pantalla de inicio para una mejor experiencia.</p>
        <button id="installBtn" hidden>Instalar app</button>
      </section>

      <section class="card">
        <h3>Bienvenido</h3>
        <div id="chat" class="chat"></div>
        <div class="row">
          <input id="email" type="email" placeholder="correo electrónico" />
          <input id="password" type="password" placeholder="contraseña" />
          <select id="role">
            <option value="client" selected>cliente</option>
            <option value="staff">personal</option>
            <option value="admin">administrador</option>
          </select>
          <button id="registerBtn">Registrarse</button>
          <button id="loginBtn">Iniciar sesión</button>
          <button id="logoutBtn">Cerrar sesión</button>
        </div>
        <p class="muted">Base de API: <code id="apiBase"></code></p>
      </section>

      <section class="card">
        <h3>Restaurantes</h3>
        <div class="row">
          <button id="loadRestaurantsBtn">Mostrar restaurantes</button>
        </div>
        <ul id="restaurantsList"></ul>
      </section>

      <section class="card">
        <h3>Menú</h3>
        <p class="muted" id="menuHeader">Ningún restaurante seleccionado.</p>
        <ul id="menuList"></ul>
      </section>

      <section class="card">
        <h3>Carrito</h3>
        <ul id="cartList"></ul>
        <p><strong>Total:</strong> <span id="cartTotal">$0.00</span></p>
        <div class="row">
          <button id="clearCartBtn">Vaciar carrito</button>
          <button id="reviewOrderBtn">Revisar pedido</button>
          <button id="placeOrderBtn">Realizar pedido</button>
          <button id="refreshOrdersBtn">Actualizar pedidos</button>
        </div>
      </section>

      <section class="card">
        <h3>Pedidos</h3>
        <ul id="ordersList"></ul>
      </section>

      <section class="card">
        <h3>Consola del restaurante</h3>
        <div class="row">
          <select id="rcRestaurant"></select>
          <button id="rcLoadOrdersBtn">Cargar pedidos</button>
        </div>
        <ul id="rcOrdersList"></ul>
      </section>

      <section class="card">
        <h3>Rastreo</h3>
        <p class="muted">Pedido activo: <span id="trackingOrder">—</span></p>
        <div id="trackingStatus">Sin rastreo.</div>
        <div id="trackingCoords" class="muted"></div>
        <div id="map"></div>
        <div class="row">
          <button id="stopTrackingBtn">Detener rastreo</button>
        </div>
      </section>

      <section class="card">
        <h3>Depuración</h3>
        <div id="log" class="log"></div>
      </section>
    </main>
    <script
      src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
      integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
      crossorigin=""
    ></script>
    <script type="module" src="/main.js"></script>
  </body>
</html>
