# Story 4.1: Dashboard and User Management

## Status

Draft

## Story

**As an** administrator,
**I want** to view a high-level overview of platform activity and manage user accounts,
**so that** I can monitor service health and perform administrative tasks.

## Acceptance Criteria

1. Dashboard shows key metrics: total users, active orders, and revenue (placeholder if revenue pipeline not ready).
2. Admins can search and view client, restaurant, and delivery partner account details.
3. Admins can manage user permissions and suspend/restore accounts.
4. Access is restricted to authenticated admins only.

## Tasks / Subtasks

- [ ] Access control (AC: 4)
  - [ ] Restrict dashboard routes with admin role guard
  - [ ] Ensure secure session handling
- [ ] Metrics overview (AC: 1)
  - [ ] Display tiles/cards for key metrics
  - [ ] Use stubbed metrics if pipeline not ready
- [ ] User management (AC: 2, 3)
  - [ ] Search and list users by role
  - [ ] View user profile details
  - [ ] Update permissions; suspend/restore
  - [ ] Record audit entries for permission changes and suspend/restore actions (who, when, what)

## Dev Notes

- Source reference: `docs/architecture/high-level-architecture.md` (admin, RBAC, data access)
- Keep UI minimal; prioritize clarity and safe admin actions.
- Define `AdminService` interface for metrics and user ops.

### Testing

- Verify non-admin access denied.
- Metrics tiles render with expected values.
- Permissions and suspend/restore flows.
- Audit log records all permission changes and account state changes with correct actor and timestamp.

## Change Log

| Date | Version | Description | Author |
| :--- | :------ | :---------- | :----- |
| 2025-08-15 | 1.0 | Initial draft of Story 4.1 | PO |

## Dev Agent Record

### Agent Model Used



### Debug Log References



### Completion Notes List

