# Story 2.2: Menu Browsing & Order Creation (Conversational)

## Status

Completed

## Story

**As a** client,
**I want** to ask Marshanta for menus from local restaurants and add items conversationally,
**so that** I can create an order without navigating complex menus.

## Acceptance Criteria

1. Natural language queries like "Show me menus" or "What's on the menu at [Restaurant]?" are supported.
2. Clients can add items and quantities via chat (e.g., "Add 2 tacos al pastor").
3. The AI confirms an order summary with line items, taxes/fees, and total before placement.
4. Users can edit the cart via chat (remove item, change quantity) prior to confirm.

## Tasks / Subtasks

- [x] Menu query understanding (AC: 1)
  - [x] Rule-based intents: "show restaurants", "menu <name>"
  - [x] Query restaurants by name (substring match)
- [x] Cart operations via chat (AC: 2, 4)
  - [x] Add/remove/change quantity via commands: `add 2 <item>`, `remove 1 <item>`, `clear cart`
  - [x] Persist cart per user (localStorage keyed by last email)
- [x] Order summary & confirmation (AC: 3, 4)
  - [x] Readable summary with items, taxes (8%), fees (3%), total
  - [x] Confirmation via explicit command: `place order`
- [x] Data/API integration
  - [x] Read menus from API endpoints (`GET /restaurants`, `GET /restaurants/:id/menu`)
  - [x] Create order via API (`POST /orders`)

## Dev Notes

- Source reference:
  - `docs/architecture/high-level-architecture.md` (API layers, data models, Orders flow)
  - `docs/front-end-spec/introduction.md` and `docs/front-end-spec/information-architecture-ia.md` (conversational UX)
- Keep responses concise and actionable; confirm ambiguities (sizes, modifiers) with follow-ups.
- Do not choose an NLU library here; define handler interfaces for intents/slots.

### Testing

- Conversational flows: add/edit cart, ambiguous item disambiguation, summary confirm/cancel.
- Data integration: menu retrieval happy/edge paths; cart persistence.

## Change Log

| Date | Version | Description | Author |
| :--- | :------ | :---------- | :----- |
| 2025-08-15 | 1.0 | Initial draft of Story 2.2 | PO |

## Dev Agent Record

### Agent Model Used



### Debug Log References



### Completion Notes List

