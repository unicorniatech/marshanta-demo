# Story 1.3: Core Data Models

## Status

Draft

## Story

**As a** developer,
**I want** to create the core data models for users, restaurants, and delivery partners,
**so that** the platform can store and manage foundational information.

## Acceptance Criteria

1. A `User` model exists with fields: id, email, passwordHash, role, createdAt, updatedAt.
2. A `Restaurant` model exists with fields: id, name, address, contact, createdAt, updatedAt.
3. A `DeliveryPartner` model exists with fields: id, name, phone, vehicleType, createdAt, updatedAt, currentLocation (nullable).
4. Database schema is defined and can be migrated/applied in local dev.

## Tasks / Subtasks

- [ ] Define schema in a migration-friendly format (AC: 4)
  - [ ] Create initial migration file(s)
  - [ ] Include indices and constraints (unique user.email)
- [ ] Implement `User` model (AC: 1)
  - [ ] Fields and types; email unique constraint
  - [ ] Role enum: [client, restaurant, delivery, admin]
- [ ] Implement `Restaurant` model (AC: 2)
  - [ ] Basic contact info; optional menu linkage to be added later
- [ ] Implement `DeliveryPartner` model (AC: 3)
  - [ ] Include optional `currentLocation` structure for future tracking
- [ ] Local validation (AC: 4)
  - [ ] Run migration locally and verify tables created
  - [ ] Seed minimal test rows for sanity check

## Dev Notes

 - Source reference: `docs/architecture/high-level-architecture.md` â†’ Data Models section lists `User`, `Restaurant`, `DeliveryPartner`, `Order`, `ConversationalLog`. This story covers the first three only; `Order` and others to be defined in later stories.
 - Use the same casing and naming consistently across API and DB layers.
 - No business logic in this story; focus on schema and basic model definitions.
 - Index recommendations:
   - `User.email` UNIQUE index (already required by AC).
   - `Restaurant.name` index for search/listing.
   - `DeliveryPartner.phone` index for quick lookup.

### Testing

- Migration applies cleanly on an empty local database.
- Constraints behave as expected (e.g., duplicate email rejected).
- Basic create/read operations succeed for each model.

## Change Log

| Date | Version | Description | Author |
| :--- | :------ | :---------- | :----- |
| 2025-08-15 | 1.0 | Initial draft of Story 1.3 | PO |

## Dev Agent Record

### Agent Model Used



### Debug Log References



### Completion Notes List


